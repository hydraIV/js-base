<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lesson 4</title>
</head>
<body>
    <script>
        // Part 1

        

        // Part 2

        var basket = [{ productName: 'Пицца',
                        productPrice: 650,
                        productQuantity: 1, },
                        
                      { productName: 'Роллы',
                        productPrice: 80,
                        productQuantity: 10, },
                        
                      { productName: 'Pepsi',
                        productPrice: 140,
                        productQuantity: 2, },];

        function countTotal (basket, isTip) {
            var totalAmount = 0;
            var tip = 0.03;
            var deliveryPrice = 150;
            var minDelivery = 50000;

            for ( var i = 0; i < basket.length; i++ ) {
                totalAmount += basket [i].productPrice * basket [i].productQuantity;
                console.log( (i+1) + '. ' + basket[i].productName + ' - ' + basket[i].productQuantity + ' X ' + basket[i].productPrice + ' = ' + basket[i].productQuantity * basket[i].productPrice + ' руб.' );
            }

            console.log ('Подитог - ' + totalAmount + ' руб.');

            if (totalAmount < minDelivery) {
                totalAmount += deliveryPrice;
                console.log ('Сумма заказа меньше ' + minDelivery + ' руб.');
                console.log ('+ Доставка 150 руб.')
                console.log ('Подитог - ' + totalAmount + ' руб.');
            }

            if (isTip) {
                totalAmount += totalAmount * tip;
                console.log ('+ Чаевые ' + (totalAmount * tip).toFixed(2) + ' руб. (3%)')
                console.log ('Подитог - ' + totalAmount + ' руб.');
            }
            
            console.log ('ИТОГО: ' + totalAmount + ' руб.');
        }

        countTotal(basket, true);

    </script>
</body>
</html>